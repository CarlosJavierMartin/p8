var e=[],n=100,i,b=true,y;function setup(){createCanvas(400,400);e.push(new eo());}function draw() {background(125);if(e.length<n&&b){for(i=0;i<e.length;i++){e[i].dis();e[i].move(1);if(e[i].border()&&e.length<=n){e.push(new eo());}}if(e.length>=n){b=false;}}else {for(i=0;i<e.length;i++){e[i].dis();e[i].move(-1);if(e[i].border()){e.pop();}}if(e.length==1){b=true;}}}class eo{constructor(){this.r=random(0,255);this.g=random(0,255);this.b=random(0,255);this.t=random(0,200);this.x=random(0,400);this.y=random(0,400);this.h=random(20,50);this.w=random(20,50);this.n=false;let a=[-1.5,-1,-0.5,0.5,1,1.5];this.dx=random(a);this.dy=random(a);}dis(){fill(this.r,this.g,this.b,this.t);ellipse(this.x,this.y,this.h,this.w);}move(f){this.n=false;this.x+=f*2*this.dx;this.y+=f*2*this.dy;if(this.x>=400){this.x=400;this.dx*=-1;this.n=true;}if(this.y>=400){this.y=400;this.dy*=-1;this.n=true;}if(this.x<=0){this.x=0;this.dx*=-1;this.n=true;}if(this.y<=0){this.y=0;this.dy*=-1;this.n=true;}}border(){return this.n}}